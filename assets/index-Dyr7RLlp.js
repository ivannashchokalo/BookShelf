import{a as f}from"./vendor-2s9xPmg-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const b="https://books-backend.p.goit.global",l=f.create({baseURL:b}),u={allCategories:"/books/category-list",top:"/books/top-books",byCategory:"/books/category",bookById:"/books"};async function m(){return(await l.get(u.allCategories)).data}async function g(){return(await l.get(u.top)).data}const c={screenType:"mobile"},d={mainBookList:document.querySelector(".main-books-list"),categoriesList:document.querySelector(".categories-list")};function y(e,o){const n=[];e.forEach(r=>{const t=r.books.slice(0,o).map(s=>k(s)).join("");n.push(`<li class="top-books-category">
      <h2 class="top-books-category-title">${r.list_name}</h2>
      <ul class="books-cards-list">${t}</ul>
      <button type="button" class="more-books-btn" data-category="${r.list_name}">SEE MORE</button>
      </li>`)}),d.mainBookList.innerHTML=n.join("")}function k({_id:e,book_image:o,title:n,author:r}){return`<li class="book-card" data-id="${e}" alt="Book cover of ${n}">
  <img class="book-card-cover" src="${o}">
  <h3 class="book-card-title">${n}</h3>
  <p class="book-card-author">${r}</p>
  </li>`}function h(e){const o=`<li class="categories-list-item">
                <button class="categories-list-button current">All categories</button>
              </li>`,n=e.map(({list_name:r})=>{if(r)return`<li class="categories-list-item">
                <button class="categories-list-button">${r}</button>
              </li>`}).join("");d.categoriesList.innerHTML=o+n}function a(){const e=window.innerWidth;return e>=1440?"desktop":e>=768?"tablet":"mobile"}async function p(){const e=L();try{const o=await g();y(o,e)}catch(o){console.error(o)}}function L(){const e=a();return{mobile:1,tablet:3,desktop:5}[e]}async function T(){c.screenType=a(),await p();try{const e=await m();h(e)}catch(e){console.log(e)}}async function w(){const e=a();e!==c.screenType&&(c.screenType=e,await p())}function E(){document.addEventListener("DOMContentLoaded",T)}window.addEventListener("resize",w);const B=document.body.dataset.page;switch(B){case"home":E();break;case"shopping-list":break;default:console.log("Unknown page")}
//# sourceMappingURL=index-Dyr7RLlp.js.map
